# 파일 확장자 차단 과제

## 과제 의도
일부 파일들은 첨부 시 보안상 위험이 될 수 있습니다.  
특히 `exe`, `sh` 등의 실행 파일은 서버 업로드 후 실행될 경우 보안 취약점으로 이어질 수 있어, 이를 방지하기 위해 **파일 확장자 차단 정책**을 구현했습니다.

---

## 요구사항 및 구현

### 1. 고정 확장자
- 차단을 자주 하는 확장자들을 미리 리스트로 제공 (예: exe, sh 등 총 8개 시드 데이터).
- 기본 상태는 **unchecked** (차단되지 않은 상태).
- 사용자가 체크/해제를 변경하면 DB에 반영되며, 새로고침해도 상태가 유지됩니다.
- 고정 확장자는 커스텀 확장자 리스트에는 표시되지 않습니다.

### 2. 커스텀 확장자
- 사용자가 직접 확장자를 추가할 수 있습니다.
- 최대 길이는 **20자**까지 허용합니다.
- 추가 버튼 클릭 시 DB에 저장되며 화면에 표시됩니다.
- 최대 **200개까지** 추가가 가능합니다.
- 등록된 확장자 옆의 `X` 버튼 클릭 시 DB에서 삭제됩니다.

### 3. 파일명 차단 테스트
- 파일명을 입력하면 현재 정책에 따라 **허용/차단 여부**를 확인할 수 있습니다.
- 기본은 **허용**, 단 고정 확장자(체크된 항목) 또는 커스텀 확장자에 등록된 경우 **차단**됩니다.

---

## 추가 고려 사항
- **커스텀 확장자 중복 검사**  
  동일한 확장자를 다시 추가할 수 없도록 검증했습니다.  
  (예: `sh` 확장자를 추가 후 다시 입력하면 에러 처리)
- **입력값 정규화**  
  대소문자/공백을 제거하고 소문자로 변환 후 저장했습니다.  
  (예: `"  JAR "` → `"jar"`)
- **전역 유니크 제약**  
  고정 확장자와 커스텀 확장자 간에도 중복 등록 불가.
- **성능 최적화**  
  조회 성능을 위해 캐싱(Caffeine Cache) 적용.  
  (분산 환경에서는 Redis Cache로 확장 가능)
- **DB 마이그레이션 관리**  
  Flyway를 통해 스키마 및 초기 데이터(고정 확장자 8개)를 관리.
- **테스트 코드 작성**  
  Repository, Service, Controller 계층에 대한 통합 테스트 작성.

---

## 제출 의도
- 요구사항을 충실히 지키면서, **중복 처리, 캐시, 마이그레이션, 테스트 코드** 등 실무적 고려사항을 반영했습니다.
- 단순 CRUD를 넘어서 안정성과 확장성을 갖춘 구현을 목표로 했습니다.
